{"version":3,"sources":["webpack:///./src/views/Add.vue?b618","webpack:///./src/components/AppHeader.vue?cd2a","webpack:///./src/views/Add.vue?aef2","webpack:///src/views/Add.vue","webpack:///./src/views/Add.vue?6ccf","webpack:///./src/views/Add.vue","webpack:///./src/components/AppHeader.vue?83f3","webpack:///src/components/AppHeader.vue","webpack:///./src/components/AppHeader.vue?97fb","webpack:///./src/components/AppHeader.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Add_vue_vue_type_style_index_0_id_7aca73ce_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Add_vue_vue_type_style_index_0_id_7aca73ce_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AppHeader_vue_vue_type_style_index_0_id_6440450c_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AppHeader_vue_vue_type_style_index_0_id_6440450c_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","goBack","_v","showDatePicker","_s","date","saveDiary","directives","name","rawName","value","expression","attrs","type","maxlength","placeholder","domProps","input","$event","target","composing","inputTitle","inputContent","autosize","class","weather","showPopup","ref","position","mask","maskClosable","_l","index","key","handleWeatherClick","icon","title","staticRenderFns","Addvue_type_script_lang_js_","data","weathers","methods","$router","go","$refs","show","e","self","style","height","scrollHeight","datePicker","$createDatePicker","min","Date","max","format","year","month","onSelect","selectHandle","selectedVal","selectedText","$set","console","log","hide","isAllDataValid","showToast","_this","flag","now","_ts","diaries","storage","load","diary","createDiary","push","save","setTimeout","getDateArr","d","getFullYear","getMonth","getDate","ts","content","initDate","from","store","get","_d","oDate","_d2","created","views_Addvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","AppHeadervue_type_script_lang_js_","props","String","components_AppHeadervue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-0f10e122.b0bbda53.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=7aca73ce&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=7aca73ce&lang=stylus&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=style&index=0&id=6440450c&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=style&index=0&id=6440450c&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add\"},[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"cancel\",on:{\"click\":_vm.goBack}},[_vm._v(\"取消\")]),_c('div',{staticClass:\"date-select\",on:{\"click\":_vm.showDatePicker}},[_vm._v(\"\\n      \"+_vm._s(_vm.date[0] + '/' + _vm.date[1] + '/' + _vm.date[2])+\"\\n    \")]),_c('span',{staticClass:\"save\",on:{\"click\":_vm.saveDiary}},[_vm._v(\"保存\")])]),_c('div',{staticClass:\"diary-content\"},[_c('div',{staticClass:\"title\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputTitle),expression:\"inputTitle\"}],attrs:{\"type\":\"text\",\"maxlength\":\"16\",\"placeholder\":\"Title\"},domProps:{\"value\":(_vm.inputTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputTitle=$event.target.value}}})]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputContent),expression:\"inputContent\"}],staticClass:\"main\",attrs:{\"placeholder\":\"\\n      记录一些有意思的事情，比如今天遇到一个笑话内容（下次说给女朋友听）、美味收获、电影观后感、或者对某个人的评价录一些有意思的有收获的事情，自己虚构的小说、自己想到一些有哲理的话、或者想看的书或者电影、也可以是一个亿的小目标，人生记录一些有意义的经验就好！记录一些生活的画面，\\n      去年的今天前年的今天都能历历在目，你成长了，你的人生就不一样了！\\n      开始你的第一篇日记吧\\n      \"},domProps:{\"value\":(_vm.inputContent)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.inputContent=$event.target.value},_vm.autosize]}})]),_c('div',{staticClass:\"option-bar\"},[_c('i',{staticClass:\"iconfont\",class:_vm.weather,on:{\"click\":_vm.showPopup}}),_c('i',{staticClass:\"cubeic-select\"})]),_c('cube-popup',{ref:\"weather\",attrs:{\"type\":\"my-popup\",\"position\":'bottom',\"mask\":true,\"maskClosable\":true}},[_c('div',{staticClass:\"weather-icons\"},[_c('ul',_vm._l((_vm.weathers),function(weather,index){return _c('li',{key:index,on:{\"click\":function($event){_vm.handleWeatherClick(weather)}}},[_c('i',{staticClass:\"iconfont\",class:weather.icon}),_c('span',[_vm._v(_vm._s(weather.title))])])}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"add\">\r\n\r\n    <div class=\"header\">\r\n      <span class=\"cancel\" @click=\"goBack\">取消</span>\r\n      <div class=\"date-select\" @click=\"showDatePicker\">\r\n        {{ date[0] + '/' + date[1] + '/' + date[2] }}\r\n      </div>\r\n      <span class=\"save\" @click=\"saveDiary\">保存</span>\r\n    </div>\r\n\r\n    <div class=\"diary-content\">\r\n      <div class=\"title\">\r\n        <input type=\"text\" v-model=\"inputTitle\" maxlength=\"16\" placeholder=\"Title\">\r\n      </div>\r\n      <textarea\r\n        class=\"main\"\r\n        @input=\"autosize\"\r\n        placeholder=\"\r\n        记录一些有意思的事情，比如今天遇到一个笑话内容（下次说给女朋友听）、美味收获、电影观后感、或者对某个人的评价录一些有意思的有收获的事情，自己虚构的小说、自己想到一些有哲理的话、或者想看的书或者电影、也可以是一个亿的小目标，人生记录一些有意义的经验就好！记录一些生活的画面，\r\n        去年的今天前年的今天都能历历在目，你成长了，你的人生就不一样了！\r\n        开始你的第一篇日记吧\r\n        \"\r\n        v-model=\"inputContent\"\r\n      >\r\n      </textarea>\r\n    </div>\r\n\r\n    <div class=\"option-bar\">\r\n      <i class=\"iconfont\" :class=\"weather\" @click=\"showPopup\"></i>\r\n      <i class=\"cubeic-select\"></i>\r\n    </div>\r\n\r\n    <cube-popup\r\n      type=\"my-popup\"\r\n      :position=\"'bottom'\"\r\n      :mask=\"true\"\r\n      ref=\"weather\"\r\n      :maskClosable=\"true\"\r\n    >\r\n      <div class=\"weather-icons\">\r\n        <ul>\r\n          <li v-for=\"(weather, index) in weathers\" :key=\"index\" @click=\"handleWeatherClick(weather)\">\r\n            <i class=\"iconfont\" :class=\"weather.icon\"></i> <span>{{ weather.title }}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </cube-popup>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AppHeader from '../components/AppHeader'\r\nexport default {\r\n  data () {\r\n    return {\r\n      // todos: 更改 icon 的class\r\n      weathers: [\r\n        {icon: 'icon-qingtian', title: '晴'},\r\n        {icon: 'icon-feng', title: '风'},\r\n        {icon: 'icon-yin', title: '阴'},\r\n        {icon: 'icon-xiaoyu', title: '小雨'},\r\n        {icon: 'icon-dayu', title: '大雨'},\r\n        {icon: 'icon-xue', title: '雪'},\r\n        {icon: 'icon-dian', title: '闪电'},\r\n        {icon: 'icon-wu', title: '雾'}\r\n      ],\r\n      inputTitle: '',\r\n      inputContent: '',\r\n      weather: 'icon-qingtian',\r\n      date: ''\r\n    }\r\n  },\r\n  methods: {\r\n    goBack () {\r\n      this.$router.go(-1)\r\n    },\r\n    showPopup() {\r\n      this.$refs.weather.show()\r\n    },\r\n    autosize (e) {\r\n      let self = e.target\r\n      self.style.height = 'auto';\r\n      self.style.height = (self.scrollHeight) + 'px';\r\n    },\r\n    showDatePicker () {\r\n      if (!this.datePicker) {\r\n        this.datePicker = this.$createDatePicker({\r\n          min: new Date(2018, 7, 8),\r\n          max: new Date(2020, 9, 20),\r\n          format: {\r\n            year: 'YYYY年',\r\n            month: 'MM月',\r\n            date: 'DD日'\r\n          },\r\n          value: new Date(),\r\n          onSelect: this.selectHandle\r\n        })\r\n      }\r\n      this.datePicker.show()\r\n    },\r\n    selectHandle (date, selectedVal, selectedText) {\r\n      this.$set(this.date, 0, selectedVal[0])\r\n      this.$set(this.date, 1, selectedVal[1])\r\n      this.$set(this.date, 2, selectedVal[2])\r\n    },\r\n    handleWeatherClick (weather) {\r\n      this.weather = weather.icon\r\n      console.log('weather', this.weather)\r\n      this.$refs.weather.hide()\r\n    },\r\n    isAllDataValid () {\r\n      if (!this.inputTitle) {\r\n        // console.log('请输入标题')\r\n        this.showToast('请输入标题')\r\n        return false\r\n      } else if (!this.inputContent) {\r\n        // console.log('请输入日记内容')\r\n        this.showToast('请输入日记内容')\r\n        return false\r\n      } else if (!this.weather) {\r\n        this.showToast('请选择天气')\r\n        return false\r\n      } else if (!this.date) {\r\n        this.showToast('请选择日期')\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    saveDiary () {\r\n      // console.log('save')\r\n      let ts = Date.now()\r\n      let flag = this.isAllDataValid()\r\n      if (flag) {\r\n        console.log('get')\r\n        let ts = Date.now()\r\n        let diaries = this.storage.load()\r\n        let diary = this.createDiary(\r\n          ts,\r\n          this.inputTitle,\r\n          this.inputContent,\r\n          this.weather,\r\n          this.date\r\n        )\r\n        diaries.push(diary)\r\n        this.storage.save(diaries)\r\n        this.showToast('保存成功')\r\n        setTimeout(() => {\r\n          this.$router.push({\r\n            name: 'home'\r\n          })\r\n        }, 500)\r\n      }\r\n    },\r\n    getDateArr (d) {\r\n      // let oDate = new Date()\r\n      let year = d.getFullYear()\r\n      let month = d.getMonth() + 1\r\n      let date = d.getDate()\r\n      return [year, month, date]\r\n    },\r\n    createDiary (ts, title, content, weather, date) {\r\n      return {\r\n        ts,\r\n        title,\r\n        content,\r\n        weather,\r\n        date\r\n      }\r\n    },\r\n    initDate () {\r\n      // 判断一下从哪个页面过来\r\n      // home -> date = new Date()\r\n      // date -> date = date from datePage\r\n      let from = this.store.get('addFrom')\r\n      if (from === 'home') {\r\n\r\n        let d = new Date()\r\n        this.date = this.getDateArr(d)\r\n        // console.log('date', this.date)\r\n\r\n      } else {\r\n\r\n        if (this.store.get('dateFromDate')) {\r\n          let d = this.store.get('dateFromDate')\r\n          let oDate = new Date(d)\r\n          this.date = this.getDateArr(oDate)\r\n          console.log('date', this.date)\r\n        } else {\r\n          let d = new Date()\r\n          this.date = this.getDateArr(d)\r\n          // console.log('date', this.date)\r\n        }\r\n\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    console.log('this.addFrom', this.store.get('addFrom'))\r\n    this.initDate()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.add\r\n  position relative\r\n  @media all\r\n    min-height 620px\r\n  @media only screen and (min-device-width: 320px) and (max-device-height: 568px) and (-webkit-device-pixel-ratio: 2)\r\n    min-height 568px\r\n  @media only screen and (min-device-width: 375px)and (-webkit-min-device-pixel-ratio: 2)\r\n    min-height 667px\r\n  @media only screen and (min-device-width: 375px) and (max-device-height: 812px) and (-webkit-device-pixel-ratio: 3)\r\n    min-height 812px\r\n  @media only screen and (min-device-width: 414px) and (max-device-height: 736px) and (-webkit-device-pixel-ratio: 3)\r\n    min-height 736px \r\n  .header\r\n    display flex\r\n    height 1rem\r\n    background-color #fff\r\n    align-items center\r\n    justify-content space-between\r\n    padding-top constant(safe-area-inset-top)\r\n    padding-top env(safe-area-inset-top)\r\n    padding-left .4rem\r\n    padding-right .4rem\r\n    box-shadow 0 8px 16px 0 rgba(226,226,226,0.30)\r\n    .date-select\r\n      display flex\r\n      align-items center\r\n      justify-content center\r\n      width 40%\r\n      height .415rem\r\n      font-size 14px\r\n      border-radius 15px\r\n      border 1px solid #DEDEDE\r\n\r\n.option-bar\r\n  position absolute\r\n  display flex\r\n  align-items center\r\n  justify-content space-between\r\n  height .7rem\r\n  width 100%\r\n  bottom 0\r\n  padding-bottom constant(safe-area-inset-bottom)\r\n  padding-bottom env(safe-area-inset-bottom)\r\n  box-shadow 0 -8px 16px 0 rgba(227,227,227,0.30)\r\n  i\r\n    font-size 26px\r\n    margin-left .345rem\r\n  .cubeic-select\r\n    font-size 26px\r\n    margin-right .345rem\r\n    font-weight 800\r\n\r\n.diary-content\r\n  .title\r\n    position relative\r\n    top .05rem\r\n    display flex\r\n    align-items center\r\n    justify-content center\r\n    height .95rem\r\n    input\r\n      width 100%\r\n      text-align center\r\n      font-family PingFangSC-Semibold\r\n      font-size 18px\r\n      color #2D2D2D\r\n    ::-moz-placeholder { color: #D7D7D7; }\r\n    ::-webkit-input-placeholder { color:#D7D7D7; }\r\n    :-ms-input-placeholder { color:#D7D7D7; }\r\n  .main\r\n    display block\r\n    min-height 5rem\r\n    // background-color lightgrey\r\n    // padding 0 .3rem 0 .3rem\r\n    // text-indent: 2em\r\n    width 90%\r\n    margin 0 auto\r\n    line-height .4rem\r\n    color #d7d7d7\r\n    font-family PingFang-SC-Medium\r\n    font-size 14px\r\n    outline none\r\n    border none\r\n    resize none\r\n    padding-bottom 1rem\r\n    color #000\r\n  ::-moz-placeholder { color: #D7D7D7; }\r\n  ::-webkit-input-placeholder { color:#D7D7D7; }\r\n  :-ms-input-placeholder { color:#D7D7D7; }\r\n\r\n.cube-popup\r\n  .cube-popup-container\r\n    .cube-popup-content\r\n      .weather-icons\r\n        box-sizing border-box\r\n        display flex\r\n        // align-items center\r\n        justify-content center\r\n        width 100%\r\n        height 2.45rem\r\n        padding .15rem 0 .2rem 0\r\n        // background-color #eee\r\n        background-color #fff\r\n        ul\r\n          display flex\r\n          flex-flow row wrap\r\n          height 100%\r\n          width 80%\r\n          // background-color lightgrey\r\n          li\r\n            flex 0 0 25%\r\n            height 50%\r\n            display flex\r\n            flex-direction column\r\n            align-items center\r\n            justify-content space-around\r\n            i\r\n              font-size 24px\r\n              margin-top .125rem\r\n              color #979797\r\n            span\r\n              font-size 13px\r\n              color #979797\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--16-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--16-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=7aca73ce&scoped=true&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Add.vue?vue&type=style&index=0&id=7aca73ce&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7aca73ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"appheader\"},[_c('i',{staticClass:\"cubeic-back\",on:{\"click\":_vm.goBack}}),_c('span',[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"appheader\">\r\n    <i class=\"cubeic-back\" @click=\"goBack\"></i>\r\n    <span>{{ title }}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppHeader',\r\n  props: {\r\n    title: String\r\n  },\r\n  methods: {\r\n    goBack () {\r\n      this.$router.go(-1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.appheader\r\n  position relative\r\n  height .9rem\r\n  line-height .9rem\r\n  text-align center\r\n  background #ff8a8a\r\n  color #fff\r\n  font-size 19px\r\n  padding-top constant(safe-area-inset-top)\r\n  padding-top env(safe-area-inset-top)\r\n  i\r\n    font-size 23px\r\n    float left\r\n    margin-left .2rem\r\n  span\r\n    margin-right .2rem\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--16-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--16-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppHeader.vue?vue&type=template&id=6440450c&scoped=true&\"\nimport script from \"./AppHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./AppHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppHeader.vue?vue&type=style&index=0&id=6440450c&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6440450c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}